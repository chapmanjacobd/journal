I think hardcoding the file name parts for show is a bit strange. I also made one: https://github.com/chapmanjacobd/library/blob/main/xklb/mediafiles/process_ffmpeg.py

My version is certainly not perfect but maybe reading it could help you get ideas for how to improve your project
