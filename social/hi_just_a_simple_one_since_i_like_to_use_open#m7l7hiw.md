There is actually a flag for this: `yt-dlp --prefer-free-formats`

https://github.com/yt-dlp/yt-dlp
